<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>影片分享平台 - 強人BB</title>
    <link rel="icon" href="../1_PNG/online-video.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="video-share-styles.css">
  
</head>
<body>
    <div class="container">
        <!-- 系統調整提示按鈕 -->
        <div class="system-notice-banner">
            <button class="notice-btn" onclick="showSystemWarning()">
                <i class="fas fa-info-circle"></i>
                <span>查看系統調整通知</span>
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
        
        <!-- 導航欄 -->
        <nav class="nav-bar">
            <div class="nav-brand">
                <i class="fas fa-video"></i>
                <span>影片分享平台</span>
            </div>
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="搜索影片...">
                <button class="search-btn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <div class="nav-controls">
                <button class="back-btn" onclick="handleBack()">
                    <i class="fas fa-arrow-left"></i>
                    <span>返回上一頁</span>
                </button>
            </div>
        </nav>

        <!-- 在 video-grid 上方添加類別選擇器和分頁導航 -->
        <div class="category-filter">
            <button class="category-btn active" data-category="all">
                <i class="fas fa-th-large"></i>
                全部影片
            </button>
            <button class="category-btn" data-category="622">
                <i class="fas fa-wind"></i>
                宮崎駿系列
            </button>
            <button class="category-btn" data-category="623">
                <i class="fas fa-bell"></i>
                哆啦A夢系列
            </button>
            <button class="category-btn" data-category="624">
                <i class="fas fa-cloud"></i>
                新海誠系列
            </button>
            <button class="category-btn" data-category="625">
                <i class="fas fa-film"></i>
                其他動畫
            </button>
        </div>

        <!-- 搜索結果標題 -->
        <div class="search-result-title" style="display: none;">
            <h2>
                <i class="fas fa-search"></i>
                <span>搜索結果</span>
                <small class="search-keyword"></small>
            </h2>
        </div>

        <!-- 影片網格 -->
        <div class="video-grid">
            <!-- STAND BY ME 多啦A夢 -->
            <div class="video-card disabled-card" onclick="return false;">
                <div class="video-thumbnail">
                    <img src="https://ptoho-cache.hkanime.com/img/https://upload.cc/i1/2021/04/07/EKyzlC.png?v1" alt="影片縮圖">
                    <span class="video-duration">1:33:57</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">STAND BY ME: 多啦A夢</h3>
                    <div class="video-meta">
                        <span>藤子·F·不二雄</span>
                        <span>2014 年</span>
                    </div>
                </div>
            </div>

            <!-- STAND BY ME 多啦A夢 2 -->
            <div class="video-card disabled-card" onclick="return false;">
                <div class="video-thumbnail">
                    <img src="https://chinesedora.com/news/wp-content/uploads/2020/12/STAND-BY-ME-%E5%93%86%E5%95%A6A%E5%A4%A22-%E6%AD%A3%E5%BC%8F%E6%B5%B7%E5%A0%B1_2%E6%9C%8810%E6%97%A5.jpg" alt="影片縮圖">
                    <span class="video-duration">1:30:13</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">STAND BY ME: 多啦A夢 2</h3>
                    <div class="video-meta">
                        <span>藤子·F·不二雄</span>
                        <span>2020 年</span>
                    </div>
                </div>
            </div>

            <div class="video-card disabled-card" onclick="return false; // playVideo('DBFDBD-f7c1-466d-8904-f3f7d1ca48bc', '你的名字')">
                <div class="video-thumbnail">
                    <img src="https://cdn.hk01.com/di/media/images/283773/org/6da32b263e534c5943f748d194adff95.png/H24CXCYv6qFWVjYxlnsXxaVYK-45Qjvh51lmwedZZsE?v=w800" alt="影片縮圖">
                    <span class="video-duration">1:46:35</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">你的名字</h3>
                    <div class="video-meta">
                        <span>新海誠</span>
                        <span>2016 年</span>
                    </div>
                </div>
            </div>

            <div class="video-card disabled-card" onclick="return false; // playVideo('DBFDBD-123D-466d-8904-f3f7d1ca48bc', '天氣之子')">
                <div class="video-thumbnail">
                    <img src="https://cdn.hk01.com/di/media/images/3137038/org/31eca1f4d6d7241fc824e93e6223346e.jpg/C3TRBgRqkkqYwmAWlFuS7xJk5IiDNBhVRS-O6UUvjuk?v=w1920" alt="影片縮圖">
                    <span class="video-duration">1:52:09</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">天氣之子</h3>
                    <div class="video-meta">
                        <span>新海誠</span>
                        <span>2019 年</span>
                    </div>
                </div>
            </div>

            <div class="video-card disabled-card" onclick="return false; // playVideo('DBFDBD-123D-123F-8904-f3f7d1ca48bc', '鈴芽之旅')">
                <div class="video-thumbnail">
                    <img src="https://cdn.hk01.com/di/media/images/dw/20230228/707220027236945920027381.jpeg/O9WEP4B2dZgwajEdsjYMFr_Xjo34GvFDRyrt4Ucq7eE?v=w1920r16_9" alt="影片縮圖">
                    <span class="video-duration">2:01:28</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">鈴芽之旅</h3>
                    <div class="video-meta">
                        <span>新海誠</span>
                        <span>2022 年</span>
                    </div>
                </div>
            </div>

            <!-- 哆啦A夢：大雄的宇宙小戰爭 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('bc247e24-h8d3-577e-9015-g4f8e2db59cd', '哆啦A夢：大雄的宇宙小戰爭')">
                <div class="video-thumbnail">
                    <img src="https://ptoho-cache.hkanime.com/img/https://upload.cc/i1/2024/05/29/DuS2aq.png?v1" alt="影片縮圖">
                    <span class="video-duration">1:48:41</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">哆啦A夢：大雄的宇宙小戰爭</h3>
                    <div class="video-meta">
                        <span>藤子·F·不二雄</span>
                        <span>2024 年</span>
                    </div>
                </div>
            </div>
             <!-- 哆啦A夢：大雄的宇宙開拓史 -->
             <div class="video-card disabled-card" onclick="return false; // playVideo('gh792j79-m3h8-0c23-e560-l9k3j7hi8nm5', '哆啦A夢：大雄的宇宙開拓史')">
                <div class="video-thumbnail">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTZp138KtLE7JlAweKx187-4wp2CtMTO6WcHw&s" alt="影片縮圖">
                    <span class="video-duration">1:38:58</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">哆啦A夢：大雄的宇宙開拓史</h3>
                    <div class="video-meta">
                        <span>藤子·F·不二雄</span>
                        <span>2009 年</span>
                    </div>
                </div>
            </div>

            <!-- 龍貓 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('ABCD-h8d3-577e-9015-g4f8e2db59cd', '龍貓')">
                <div class="video-thumbnail">
                    <img src="https://occ-0-8407-1723.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABQSGPq9p2dCuOIL7P2LfRVk7j1idBqHmm4dFdVL2zIEZEgVLvQXseVRuxcwyxvILIWrdRNgzjiXblfivUnE_o7bN_r7Rj9PSK99m.jpg?r=254" alt="影片縮圖">
                    <span class="video-duration">1:26:25</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">龍貓</h3>
                    <div class="video-meta">
                        <span>宮崎駿</span>
                        <span>1988 年</span>
                    </div>
                </div>
            </div>

            <!-- 哆啦A夢：大雄的月球探測記 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('cd358f35-i9e4-688f-a126-h5g9f3ec6ae1', '哆啦A夢：大雄的月球探測記')">
                <div class="video-thumbnail">
                    <img src="https://ptoho-cache.hkanime.com/img/https://upload.cc/i1/2024/03/26/zPQw4R.jpg" alt="影片縮圖">
                    <span class="video-duration">1:35:45</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">哆啦A夢：大雄的月球探測記</h3>
                    <div class="video-meta">
                        <span>藤子·F·不二雄</span>
                        <span>2019 年</span>
                    </div>
                </div>
            </div>

            <!-- 哆啦A夢：大雄的新恐龍 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('de469g46-j0f5-7990-b237-i6h0g4fd7bf2', '哆啦A夢：大雄的新恐龍')">
                <div class="video-thumbnail">
                    <img src="https://ptoho-cache.hkanime.com/img/https://upload.cc/i1/2024/03/26/vNxT9M.jpg" alt="影片縮圖">
                    <span class="video-duration">1:50:15</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">哆啦A夢：大雄的新恐龍</h3>
                    <div class="video-meta">
                        <span>藤子·F·不二雄</span>
                        <span>2020 年</span>
                    </div>
                </div>
            </div>

            <!-- 哆啦A夢：大雄的宇宙英雄記 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('ef570h57-k1g6-8a01-c348-j7i1h5ge8cg3', '哆啦A夢：大雄的宇宙英雄記')">
                <div class="video-thumbnail">
                    <img src="https://ptoho-cache.hkanime.com/img/https://upload.cc/i1/2024/03/26/bKcV5H.jpg" alt="影片縮圖">
                    <span class="video-duration">1:48:33</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">哆啦A夢：大雄的宇宙英雄記</h3>
                    <div class="video-meta">
                        <span>藤子·F·不二雄</span>
                        <span>2015 年</span>
                    </div>
                </div>
            </div>

            <!-- 哆啦A夢：大雄的金銀島 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('fg681i68-l2h7-9b12-d459-k8j2i6hf9dh4', '哆啦A夢：大雄的金銀島')">
                <div class="video-thumbnail">
                    <img src="https://ptoho-cache.hkanime.com/img/https://upload.cc/i1/2024/03/26/qWsX7J.jpg" alt="影片縮圖">
                    <span class="video-duration">1:49:27</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">哆啦A夢：大雄的金銀島</h3>
                    <div class="video-meta">
                        <span>藤子·F·不二雄</span>
                        <span>2018 年</span>
                    </div>
                </div>
            </div>

            <!-- 千與千尋 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('EFGH-i9e4-688f-a126-h5g9f3ec6ae1', '千與千尋')">
                <div class="video-thumbnail">
                    <img src="https://hips.hearstapps.com/hmg-prod/images/03-254672-h-1618226784.jpg" alt="影片縮圖">
                    <span class="video-duration">2:04:32</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">千與千尋</h3>
                    <div class="video-meta">
                        <span>宮崎駿</span>
                        <span>2001 年</span>
                    </div>
                </div>
            </div>

            <!-- 魔女宅急便 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('IJKL-j0f5-7990-b237-i6h0g4fd7bf2', '魔女宅急便')">
                <div class="video-thumbnail">
                    <img src="https://cdn.hk01.com/di/media/images/dw/20201124/407894089766670336158320.jpeg/tOb-_uArGyHOEsYu096GzmrG2P6HWW5rJA3PMiQNzzI?v=w1920" alt="影片縮圖">
                    <span class="video-duration">1:43:02</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">魔女宅急便</h3>
                    <div class="video-meta">
                        <span>宮崎駿</span>
                        <span>1989 年</span>
                    </div>
                </div>
            </div>

            <!-- 霍爾的移動城堡 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('STUV-u8v2-4h67-j015-q9s8r1pq5ln0', '霍爾的移動城堡')">
                <div class="video-thumbnail">
                    <img src="https://cdn.hk01.com/di/media/images/dw/20201019/394834556513816576845193.jpeg/tG4R3oQip2-BIwVHfQfx5f-0M2kIHrmqsavUgrGr1II?v=w1920" alt="影片縮圖">
                    <span class="video-duration">1:59:09</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">霍爾的移動城堡</h3>
                    <div class="video-meta">
                        <span>宮崎駿</span>
                        <span>2004 年</span>
                    </div>
                </div>
            </div>

            <!-- 風之谷 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('PQRS-v9w3-5i78-k126-r0t9s2qr6mp1', '風之谷')">
                <div class="video-thumbnail">
                    <img src="https://cdn.hk01.com/di/media/images/dw/20201221/417656576796528640735928.jpeg/3wEnYoSJ8_oR-cBbMEgTPDrTg--JIALJORrkGDka5Bg?v=w1920" alt="影片縮圖">
                    <span class="video-duration">1:57:02</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">風之谷</h3>
                    <div class="video-meta">
                        <span>宮崎駿</span>
                        <span>1984 年</span>
                    </div>
                </div>
            </div>

            <!-- 再見螢火蟲 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('7d82ac2b-d577-4ef4-90cf-936cffac9c38', '再見螢火蟲')">
                <div class="video-thumbnail">
                    <img src="https://image-cdn.hypb.st/https%3A%2F%2Fpopbee.com%2Fimage%2F2018%2F04%2Fgrave-of-the-fireflies-poster-teaser.jpg?q=75&w=800&cbr=1&fit=max" alt="影片縮圖">
                    <span class="video-duration">1:28:21</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">再見螢火蟲</h3>
                    <div class="video-meta">
                        <span>宮崎駿</span>
                        <span>1988 年</span>
                    </div>
                </div>
            </div>

            <!-- 貓之報恩 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('YZAB-n4j9-1d34-f671-m0k4l8jh1fj6', '貓之報恩')">
                <div class="video-thumbnail">
                    <img src="https://im.marieclaire.com.tw/m800c533h100b0/assets/mc/202405/6642B6947C9071715648148.jpeg" alt="影片縮圖">
                    <span class="video-duration">1:15:04</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">貓之報恩</h3>
                    <div class="video-meta">
                        <span>宮崎駿</span>
                        <span>2002 年</span>
                    </div>
                </div>
            </div>

            <!-- 借物少女艾莉緹 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('eb18b042-569d-402e-a80a-9e5e8a03b901', '借物少女艾莉緹')">
                <div class="video-thumbnail">
                    <img src="https://images.now-tv.com/shares/vod_images/vi_vodproduct_desc_t/202011/en_us/original_horizontal2/202011181217403_1440_810" alt="影片縮圖">
                    <span class="video-duration">1:34:07</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">借物少女艾莉緹</h3>
                    <div class="video-meta">
                        <span>宮崎駿</span>
                        <span>2010 年</span>
                    </div>
                </div>
            </div>

            <!-- 天空之城 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('MNOP-k1g6-8a01-c348-j7i1h5ge8cg3', '天空之城')">
                <div class="video-thumbnail">
                    <img src="https://cdn.hk01.com/di/media/images/dw/20201221/417667075189772288958721.jpeg/RDHgbmPRTFliKnLcGQLSXzJ6wLaJn-_LihX2uIoV9rg?v=w1920" alt="影片縮圖">
                    <span class="video-duration">2:04:33</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">天空之城</h3>
                    <div class="video-meta">
                        <span>宮崎駿</span>
                        <span>1986 年</span>
                    </div>
                </div>
            </div>

            <!-- 百變狸貓 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('UVWX-q3r8-0c23-e560-p9n4m7lk3hi8', '百變狸貓')">
                <div class="video-thumbnail">
                    <img src="https://image.enjoymovie.net/vMkba3rEDL_Yr2cwtW5zWa3z2w4=/800x468/smart/core/p/bKNV3XYNXj.jpg" alt="影片縮圖">
                    <span class="video-duration">1:59:11</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">百變狸貓</h3>
                    <div class="video-meta">
                        <span>宮崎駿</span>
                        <span>1994 年</span>
                    </div>
                </div>
            </div>

            <!-- 紅豬 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('WXYZ-r5s9-1e34-g782-n6p5o8mn2ik7', '紅豬')">
                <div class="video-thumbnail">
                    <img src="https://raw.githubusercontent.com/AAGNGT/RobloxGUI/42323b40c2bed2fe8fa83c94a97e9da209da332f/Picture%20library/145.jpg" alt="影片縮圖">
                    <span class="video-duration">1:33:19</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">紅豬 - 飛天紅豬俠</h3>
                    <div class="video-meta">
                        <span>宮崎駿</span>
                        <span>1992 年</span>
                    </div>
                </div>
            </div>

            <!-- 側耳傾聽 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('VWXY-s6t0-2f45-h893-o7q6p9no3jl8', '側耳傾聽')">
                <div class="video-thumbnail">
                    <img src="https://meet.eslite.com/Content/Images/Article/WhisperoftheHeart-m_20210623013457.jpg" alt="影片縮圖">
                    <span class="video-duration">1:50:50</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">心之谷 - 側耳傾聽</h3>
                    <div class="video-meta">
                        <span>宮崎駿</span>
                        <span>1995 年</span>
                    </div>
                </div>
            </div>

            <!-- 幽靈公主 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('UVWX-t7u1-3g56-i904-p8r7q0op4km9', '幽靈公主')">
                <div class="video-thumbnail">
                    <!-- <img src="https://images-tw.girlstyle.com/wp-content/uploads/2020/10/mononoke043.jpg?auto=format&w=1053" alt="影片縮圖"> -->
                    <span class="video-duration">2:14:00</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">幽靈公主</h3>
                    <div class="video-meta">
                        <span>宮崎駿</span>
                        <span>1997 年</span>
                    </div>
                </div>
            </div>

            <!-- 哆啦A夢：新大雄的恐龍 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('hi792j79-n3h8-0c23-e560-l9k3j7hi8nm5', '哆啦A夢：大雄的恐龍')">
                <div class="video-thumbnail">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTuNG-xSR9k7dnwgCiBWy_LXVmpIaGbzDiTZw&s" alt="影片縮圖">
                    <span class="video-duration">1:46:47</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">哆啦A夢：大雄的恐龍</h3>
                    <div class="video-meta">
                        <span>藤子·F·不二雄</span>
                        <span>2006 年</span>
                    </div>
                </div>
            </div>

            <!-- 在 video-grid 中添加新的影片卡片 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('doraemon-museum-2024', '哆啦A夢：大雄的秘密道具博物館')">
                <div class="video-thumbnail">
                    <img src="https://chinesedora.com/database/wp-content/uploads/2013/03/cut-1.jpg" alt="影片縮圖">
                    <span class="video-duration">1:39:29</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">哆啦A夢：大雄的秘密道具博物館</h3>
                    <div class="video-meta">
                        <span>藤子·F·不二雄</span>
                        <span>2013 年</span>
                    </div>
                </div>
            </div>

            <!-- 在 video-grid 中添加咕嚕咕嚕魔法陣卡片 -->
            <div class="video-card series-card" onclick="return false; // playVideoSeries('guruguru-series', '咕嚕咕嚕魔法陣')">
                <div class="video-thumbnail">
                    <img src="https://static.acgsecrets.hk/img/84/842282a69b1ca0025cf03aee8b49498c/f01d50db29a801e9934ae47b72d0e82cd85f6057ec7beb6420080cdc349b13e8.png" alt="咕嚕咕嚕魔法陣">
                    <span class="video-duration">全24集</span>
                    <div class="series-badge">
                        <i class="fas fa-list-ul"></i>
                        系列作品
                    </div>
                </div>
                <div class="video-info">
                    <h3 class="video-title">咕嚕咕嚕魔法陣</h3>
                    <div class="video-meta">
                        <span>衛藤ヒロユキ</span>
                        <span>2017 年</span>
                    </div>
                </div>
            </div>

            <!-- 在 video-grid 中添加新的影片卡片 -->
            <div class="video-card disabled-card" onclick="return false; // playVideo('doraemon-wonderland-2024', '哆啦A夢：新大雄的大魔境')">
                <div class="video-thumbnail">
                    <img src="https://img.tvb.com/mytvs/poster/1399/h_139888_v2_o.jpg" alt="影片縮圖">
                    <span class="video-duration">1:44:42</span>
                </div>
                <div class="video-info">
                    <h3 class="video-title">哆啦A夢：新大雄的大魔境</h3>
                    <div class="video-meta">
                        <span>藤子·F·不二雄</span>
                        <span>2014 年</span>
                    </div>
                </div>
            </div>

            <!-- 在 video-grid 中添加暗殺教室第一季卡片 -->
            <div class="video-card series-card" onclick="return false; // playVideoSeries('assassination-classroom-s1', '暗殺教室 第一季', 'anime')">
                <div class="video-thumbnail">
                    <img src="https://images.now-tv.com/shares/vod_images/vi_voddrama_series_desc_t/202407/zh_tw/original_horizontal_2/s202407110180825" alt="暗殺教室">
                    <span class="video-duration">全22集</span>
                    <div class="series-badge">
                        <i class="fas fa-list-ul"></i>
                        系列作品
                    </div>
                </div>
                <div class="video-info">
                    <h3 class="video-title">暗殺教室 第一季</h3>
                    <div class="video-meta">
                        <span>松井優征</span>
                        <span>2015 年</span>
                    </div>
                </div>
            </div>

            <!-- 在 video-grid 中添加暗殺教室第二季卡片 -->
            <div class="video-card series-card" onclick="return false; // playVideoSeries('assassination-classroom-s2', '暗殺教室 第二季', 'anime')">
                <div class="video-thumbnail">
                    <img src="https://megapx-assets.dcard.tw/images/261410a4-61a2-4d97-9eca-44b5336772b7/full.jpeg" alt="暗殺教室">
                    <span class="video-duration">全25集</span>
                    <div class="series-badge">
                        <i class="fas fa-list-ul"></i>
                        系列作品
                    </div>
                </div>
                <div class="video-info">
                    <h3 class="video-title">暗殺教室 第二季</h3>
                    <div class="video-meta">
                        <span>松井優征</span>
                        <span>2016 年</span>
                    </div>
                </div>
            </div>
            <div class="video-card series-card" onclick="return false; // playVideoSeries('Haruka Chisuga', '殺戮的天使', 'anime')">
                <div class="video-thumbnail">
                    <img src="https://github.com/AAGNGT/RobloxGUI/blob/main/Picture%20library/Haruka%20Chisuga.png?raw=true" alt="殺戮的天使">
                    <span class="video-duration">全16集</span>
                    <div class="series-badge">
                        <i class="fas fa-list-ul"></i>
                        系列作品
                    </div>
                </div>
                <div class="video-info">
                    <h3 class="video-title">殺戮的天使</h3>
                    <div class="video-meta">
                        <span>束くだん</span>
                        <span>2018 年</span>
                    </div>
                </div>
            </div>
            <div class="video-card series-card" onclick="return false; // playVideoSeries('Guilty Crown', '罪惡王冠', 'anime')">
                <div class="video-thumbnail">
                    <img src="https://img-baofun.zhhainiao.com/fs/d0a03ce35b939d5ee9c6f3b3c8a422d4.jpg" alt="罪惡王冠">
                    <span class="video-duration">全16集</span>
                    <div class="series-badge">
                        <i class="fas fa-list-ul"></i>
                        系列作品
                    </div>
                </div>
                <div class="video-info">
                    <h3 class="video-title">罪惡王冠</h3>
                    <div class="video-meta">
                        <span>束くだん</span>
                        <span>2011 年</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 分頁導航 -->
        <div class="pagination-container">
            <div class="pagination-wrapper">
                <button class="page-btn prev-btn" disabled>
                    <i class="fas fa-chevron-left"></i>
                    上一頁
                </button>
                <div class="page-numbers">
                    <button class="page-number active">1</button>
                    <button class="page-number">2</button>
                    <button class="page-number">3</button>
                    <span class="page-dots">...</span>
                    <button class="page-number">8</button>
                </div>
                <button class="page-btn next-btn">
                    下一頁
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            <div class="page-info">
                <span>共 0 部影片</span>
                <span class="separator">|</span>
                <span>每頁 24 部</span>
                <span class="separator">|</span>
                <span>第 1/1 頁</span>
            </div>
        </div>
    </div>

    <!-- 在 body 標籤內添加加載動畫元素 -->
    <div class="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-circle-notch"></i>
        </div>
    </div>

    <!-- 全屏警告提示模態框 -->
    <div id="systemWarningModal" class="warning-modal">
        <div class="warning-backdrop"></div>
        <div class="warning-content">
            <div class="warning-header">
                <div class="warning-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h2>系統調整通知</h2>
            </div>
            <div class="warning-body">
                <p class="warning-text">
                    因應新系統調整，<strong>aagngt.us.kg</strong> 將不會繼續營運影片分享平台<br>
                    由此已將數據上傳到新網站，<strong>aagngt.dqdns.org</strong> 獨立運行<br><br>
                    管理級 人員也可以 <strong>aatest.vercel.app</strong> 偵錯調試
                </p>
                <div class="warning-actions">
                    <button class="warning-btn primary-btn" onclick="goToNewSite()">
                        <i class="fas fa-external-link-alt"></i>
                        前往新網站
                    </button>
                    <button class="warning-btn secondary-btn" onclick="stayOnCurrentSite()">
                        <i class="fas fa-home"></i>
                        繼續留在這裡
                    </button>
                </div>
            </div>
        </div>
    </div>

    <style>
    /* 搜索結果容器樣式 */
    .search-results {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: rgba(255, 255, 255, 0.98);
        border-radius: 0 0 12px 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        z-index: 1000;
        padding: 20px;
        backdrop-filter: blur(10px);
        max-height: 80vh;
        overflow-y: auto;
    }

    .search-results.active {
        display: block;
        animation: slideDown 0.3s ease-out;
    }

    .search-category {
        margin-bottom: 20px;
    }

    .search-category-title {
        font-size: 1rem;
        color: #666;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .search-category-title i {
        font-size: 1.2em;
    }

    .search-items {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
    }

    .search-item {
        background: white;
        border-radius: 8px;
        padding: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.3s ease forwards;
    }

    .search-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    /* 搜索按鈕動畫 */
    .search-btn.searching .fa-search {
        display: none;
    }

    .search-btn.searching::after {
        content: '×';
        font-size: 1.2em;
        font-weight: bold;
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fadeInUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* 搜索結果標題樣式 */
    .search-result-title {
        margin: 20px 0;
        padding: 0 20px;
    }

    .search-result-title h2 {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 1.5rem;
        color: #333;
    }

    .search-result-title i {
        color: #666;
    }

    .search-result-title .search-keyword {
        color: #2196F3;
        font-weight: normal;
        margin-left: 8px;
    }

    /* 添加搜索結果動畫 */
    .video-card {
        transition: all 0.3s ease;
    }

    .video-card[style*="display: none"] {
        opacity: 0;
        transform: scale(0.8);
    }

    .video-card:not([style*="display: none"]) {
        animation: fadeInScale 0.3s ease forwards;
    }

    @keyframes fadeInScale {
        from {
            opacity: 0;
            transform: scale(0.8);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    .search-results-container {
        width: 100%;
        max-width: 100%;
        margin: 0;
        padding: 20px;
        background: rgba(0, 0, 0, 0.85);
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.15);
        box-sizing: border-box;
    }

    .search-category {
        width: 100%;
        margin-bottom: 20px;
        background: rgba(33, 33, 33, 0.95);
        border-radius: 8px;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .category-header {
        width: 100%;
        padding: 15px 20px;
        background: linear-gradient(135deg, #1a237e, #0d47a1);
        color: white;
        font-size: 18px;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 10px;
        box-sizing: border-box;
    }

    .category-results {
        width: 100%;
        padding: 20px;
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        box-sizing: border-box;
    }

    .result-item {
        background: #1e1e1e;
        padding: 15px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 1px solid rgba(255, 255, 255, 0.12);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    .result-item:hover {
        background: #2c2c2c;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        border-color: rgba(255, 255, 255, 0.2);
    }

    .result-item h4 {
        color: #fff;
        margin: 0 0 8px 0;
        font-size: 16px;
        font-weight: 500;
    }

    .result-item p {
        color: rgba(255, 255, 255, 0.7);
        margin: 0;
        font-size: 14px;
        line-height: 1.4;
    }

    .result-item .meta {
        margin-top: 10px;
        display: flex;
        align-items: center;
        gap: 12px;
        color: rgba(255, 255, 255, 0.5);
        font-size: 12px;
    }

    .result-item .meta i {
        font-size: 14px;
        color: #64B5F6;
    }

    @media (max-width: 1200px) {
        .category-results {
            grid-template-columns: repeat(3, 1fr);
        }
    }

    @media (max-width: 900px) {
        .category-results {
            grid-template-columns: repeat(2, 1fr);
        }
        .search-results-container {
            padding: 15px;
        }
    }

    @media (max-width: 600px) {
        .category-results {
            grid-template-columns: 1fr;
        }
        .search-category {
            padding: 15px;
        }
    }

    .no-results {
        text-align: center;
        padding: 30px;
        color: rgba(255, 255, 255, 0.7);
        font-style: italic;
    }

    /* 警告模態框樣式 */
    .warning-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        visibility: hidden;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .warning-modal.show {
        opacity: 1;
        visibility: visible;
    }

    .warning-backdrop {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, rgba(0, 0, 0, 0.4), rgba(20, 20, 20, 0.6));
        border-radius: 20px;
        animation: backdropPulse 2s ease-in-out infinite;
        z-index: 1;
    }

    .warning-content {
        position: relative;
        background: linear-gradient(145deg, #1a1a2e, #16213e);
        border-radius: 20px;
        padding: 40px;
        max-width: 500px;
        width: 90%;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        border: 2px solid rgba(255, 193, 7, 0.3);
        animation: modalSlideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        transform: scale(0.8) translateY(50px);
        transition: all 0.3s ease;
        z-index: 2;
    }

    .warning-modal.show .warning-content {
        transform: scale(1) translateY(0);
    }

    .warning-header {
        text-align: center;
        margin-bottom: 30px;
    }

    .warning-icon {
        font-size: 4rem;
        color: #ffc107;
        margin-bottom: 20px;
        animation: iconPulse 2s ease-in-out infinite;
    }

    .warning-header h2 {
        color: #ffffff;
        font-size: 2rem;
        font-weight: 700;
        margin: 0;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .warning-body {
        text-align: center;
    }

    .warning-text {
        color: #e0e0e0;
        font-size: 1.1rem;
        line-height: 1.6;
        margin-bottom: 30px;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }

    .warning-text strong {
        color: #ffc107;
        font-weight: 600;
    }

    .warning-actions {
        display: flex;
        gap: 15px;
        justify-content: center;
        flex-wrap: wrap;
    }

    .warning-btn {
        padding: 15px 30px;
        border: none;
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        align-items: center;
        gap: 8px;
        min-width: 160px;
        justify-content: center;
        position: relative;
        overflow: hidden;
        z-index: 10;
        pointer-events: auto;
    }

    .warning-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s;
    }

    .warning-btn:hover::before {
        left: 100%;
    }

    .primary-btn {
        background: linear-gradient(135deg, #4CAF50, #45a049);
        color: white;
        box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
    }

    .primary-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
    }

    .secondary-btn {
        background: linear-gradient(135deg, #6c757d, #5a6268);
        color: white;
        box-shadow: 0 4px 15px rgba(108, 117, 125, 0.3);
    }

    .secondary-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(108, 117, 125, 0.4);
    }

    /* 動畫效果 */
    @keyframes backdropPulse {
        0%, 100% { opacity: 0.8; }
        50% { opacity: 0.9; }
    }

    @keyframes iconPulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }

    @keyframes modalSlideIn {
        from {
            opacity: 0;
            transform: scale(0.5) translateY(-100px);
        }
        to {
            opacity: 1;
            transform: scale(1) translateY(0);
        }
    }

    /* 響應式設計 */
    @media (max-width: 600px) {
        .warning-content {
            padding: 30px 20px;
            margin: 20px;
        }
        
        .warning-header h2 {
            font-size: 1.5rem;
        }
        
        .warning-text {
            font-size: 1rem;
        }
        
        .warning-actions {
            flex-direction: column;
        }
        
        .warning-btn {
            width: 100%;
        }
    }

    /* 禁用卡片樣式 */
    .disabled-card {
        opacity: 0.4;
        cursor: not-allowed;
        pointer-events: none;
        filter: grayscale(100%) brightness(0.7);
        transition: all 0.3s ease;
        position: relative;
    }

    .disabled-card:hover {
        transform: none;
        box-shadow: none;
        opacity: 0.4;
    }

    .disabled-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(128, 128, 128, 0.3);
        border-radius: 12px;
        z-index: 5;
        pointer-events: none;
    }

    .disabled-card::after {
        content: '暫停服務';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.6);
        color: #ccc;
        padding: 6px 12px;
        border-radius: 15px;
        font-size: 12px;
        font-weight: 500;
        z-index: 10;
        pointer-events: none;
        opacity: 0.8;
    }

    .disabled-card .video-thumbnail img {
        filter: grayscale(100%) brightness(0.5);
    }

    .disabled-card .video-info {
        color: #999;
    }

    .disabled-card .video-title {
        color: #666;
    }

    .disabled-card .video-meta {
        color: #888;
    }

    /* 系統調整提示按鈕樣式 */
    .system-notice-banner {
        position: sticky;
        top: 0;
        z-index: 1000;
        margin-bottom: 20px;
        animation: slideDownBanner 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .notice-btn {
        width: 100%;
        background: linear-gradient(135deg, #4CAF50, #45a049);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
    }

    .notice-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        transition: left 0.6s;
    }

    .notice-btn:hover::before {
        left: 100%;
    }

    .notice-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5);
        background: linear-gradient(135deg, #45a049, #2e7d32);
    }

    .notice-btn:active {
        transform: translateY(-1px);
    }

    .notice-btn i:first-child {
        font-size: 16px;
    }

    .notice-btn i:last-child {
        font-size: 14px;
        transition: transform 0.3s ease;
    }

    .notice-btn:hover i:last-child {
        transform: translateX(3px);
    }

    @keyframes slideDownBanner {
        from {
            opacity: 0;
            transform: translateY(-50px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }

    /* 響應式設計 */
    @media (max-width: 768px) {
        .notice-btn {
            padding: 12px 20px;
            font-size: 14px;
        }
        
        .notice-btn i:first-child {
            font-size: 16px;
        }
    }
    </style>

    <script>
        // 警告模態框功能
        document.addEventListener('DOMContentLoaded', function() {
            // 用戶一進入頁面立即顯示系統調整通知
            setTimeout(() => {
                showSystemWarning();
            }, 500); // 短暫延遲確保頁面載入完成
        });

        function showSystemWarning() {
            const modal = document.getElementById('systemWarningModal');
            modal.classList.add('show');
            
            // 防止背景滾動
            document.body.style.overflow = 'hidden';
            
            // 添加事件監聽器作為備用方案
            const primaryBtn = modal.querySelector('.primary-btn');
            const secondaryBtn = modal.querySelector('.secondary-btn');
            
            if (primaryBtn) {
                primaryBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('主要按鈕被點擊（事件監聽器）');
                    window.open('https://aagngt.dpdns.org/', '_blank');
                    hideSystemWarning();
                });
            }
            
            if (secondaryBtn) {
                secondaryBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('次要按鈕被點擊（事件監聽器）');
                    hideSystemWarning();
                });
            }
        }

        function hideSystemWarning() {
            const modal = document.getElementById('systemWarningModal');
            modal.classList.remove('show');
            
            // 恢復背景滾動
            document.body.style.overflow = '';
        }

        // 將函數定義為全局函數
        window.goToNewSite = function() {
            console.log('前往新網站按鈕被點擊');
            // 前往新網站
            window.open('https://aagngt.dpdns.org/', '_blank');
            hideSystemWarning();
        };

        window.stayOnCurrentSite = function() {
            console.log('繼續留在這裡按鈕被點擊');
            // 繼續留在當前網站
            hideSystemWarning();
        };

        // 分類按鈕切換
        const categoryBtns = document.querySelectorAll('.category-btn');
        const videoCards = document.querySelectorAll('.video-card');
        
        categoryBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // 更新按鈕狀態
                categoryBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const category = btn.textContent.trim();
                
                // 保存所選類別到 localStorage
                localStorage.setItem('selectedCategory', category);
                
                // 重置所有卡片的動畫
                videoCards.forEach(card => {
                    // 先移除動畫
                    card.style.animation = 'none';
                    card.offsetHeight; // 觸發重排
                    
                    const author = card.querySelector('.video-meta span').textContent;
                    if (category === '全部') {
                        card.style.display = 'block';
                        // 重新添加動畫
                        card.style.animation = '';
                    } else if (
                        (category === '多啦A夢' && author === '藤子·F·不二雄') ||
                        (category === '新海誠' && author === '新海誠') ||
                        (category === '宮崎駿' && author === '宮崎駿')
                    ) {
                        card.style.display = 'block';
                        // 重新添加動畫
                        card.style.animation = '';
                    } else {
                        card.style.display = 'none';
                    }
                });

                // 重新計算可見卡片的動畫延遲
                let delay = 0;
                videoCards.forEach(card => {
                    if (card.style.display !== 'none') {
                        card.style.animationDelay = `${delay}s`;
                        delay += 0.1;
                    }
                });
            });
        });

        // 添加檢查URL參數並顯示提示的功能
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('status') === 'unavailable') {
                // 創建提示元素
                // localStorage.removeItem('currentVideo');
                const alertDiv = document.createElement('div');
                alertDiv.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: rgba(17, 24, 39, 0.95);
                    color: white;
                    padding: 2rem 3rem;
                    border-radius: 1rem;
                    z-index: 1000;
                    text-align: center;
                    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
                    backdrop-filter: blur(8px);
                    border: 1px solid rgba(255, 255, 255, 0.1);
                    min-width: 300px;
                    animation: slideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
                `;
                
                alertDiv.innerHTML = `
                    <div style="margin-bottom: 1.5rem;">
                        <i class="fas fa-exclamation-circle" style="font-size: 3rem; color: #FCD34D;"></i>
                    </div>
                    <h3 style="margin: 0 0 1rem 0; font-size: 1.5rem; font-weight: 600;">溫馨提示</h3>
                    <p style="margin: 0; font-size: 1rem; line-height: 1.5; color: #E5E7EB;">
                        該影片暫不支援播放<br>敬請期待！
                    </p>
                `;

                // 添加動畫樣式
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes slideIn {
                        from {
                            opacity: 0;
                            transform: translate(-50%, -60%);
                        }
                        to {
                            opacity: 1;
                            transform: translate(-50%, -50%);
                        }
                    }
                    @keyframes fadeOut {
                        from {
                            opacity: 1;
                            transform: translate(-50%, -50%);
                        }
                        to {
                            opacity: 0;
                            transform: translate(-50%, -40%);
                        }
                    }
                `;
                document.head.appendChild(style);

                // 添加到頁面
                document.body.appendChild(alertDiv);

                // 3秒後淡出並移除
                setTimeout(() => {
                    alertDiv.style.animation = 'fadeOut 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
                    setTimeout(() => {
                        document.body.removeChild(alertDiv);
                        // 清除 URL 參數
                        window.history.replaceState({}, document.title, window.location.pathname);
                    }, 500);
                }, 3000);
            }
        });

        function playVideo(videoId, videoTitle) {
            // 儲存當前影片信息到 localStorage
            // localStorage.setItem('currentVideo', JSON.stringify({
            //     id: videoId,
            //     title: videoTitle
            // }));

            // 直接跳轉到帶有 status 參數的播放頁面
            window.location.href = `video-player.html?status=${videoId}`;
        }

        // 修改分頁和類別篩選功能
        document.addEventListener('DOMContentLoaded', function() {
            const videoCards = document.querySelectorAll('.video-card');
            const categoryBtns = document.querySelectorAll('.category-btn');
            const itemsPerPage = 24;
            let currentPage = 1;
            let currentCategory = 'all';
            let filteredCards = [];

            // 根據影片標題和作者判斷類別
            videoCards.forEach(card => {
                // 根據影片標題和作者判斷類別
                const title = card.querySelector('.video-title').textContent;
                const author = card.querySelector('.video-meta span:first-child').textContent;
                let category;
                
                // 宮崎駿系列 (622)
                if (author.includes('宮崎駿') || 
                    title.includes('龍貓') || 
                    title.includes('天空之城') || 
                    title.includes('魔女宅急便') || 
                    title.includes('風之谷') ||
                    title.includes('霍爾的移動城堡')) {
                    category = '622';
                }
                // 哆啦A夢系列 (623)
                else if (author.includes('藤子·F·不二雄') || 
                         title.includes('哆啦A夢') || 
                         title.includes('多啦A夢')) {
                    category = '623';
                }
                // 新海誠系列 (624)
                else if (author.includes('新海誠') || 
                         title.includes('你的名字') || 
                         title.includes('天氣之子') ||
                         title.includes('言葉之庭')) {
                    category = '624';
                }
                // 其他動畫 (625) - 這個類別應該會越來越少，因為大部分都歸類到對應作者了
                else {
                    category = '625';
                }
                
                card.setAttribute('data-category', category);
            });

            // 顯示當前頁面的影片
            function showCurrentPage(showLoading = true) {
                const startIndex = (currentPage - 1) * itemsPerPage;
                const endIndex = startIndex + itemsPerPage;
                const currentCards = filteredCards.slice(startIndex, endIndex);
                
                // 只在需要時顯示加載動畫
                const loadingOverlay = document.querySelector('.loading-overlay');
                if (showLoading) {
                    loadingOverlay.classList.add('show');
                }

                // 先重置所有卡片
                videoCards.forEach(card => {
                    card.style.display = 'none';
                    card.classList.remove('animate');
                });

                // 延遲顯示新卡片
                setTimeout(() => {
                    // 顯示當前頁面的卡片
                    currentCards.forEach(card => {
                        card.style.display = '';
                    });

                    // 添加動畫類
                    requestAnimationFrame(() => {
                        currentCards.forEach((card, index) => {
                            setTimeout(() => {
                                card.classList.add('animate');
                            }, index * 50);
                        });
                    });

                    // 只在顯示加載動畫時才需要隱藏它
                    if (showLoading) {
                        setTimeout(() => {
                            loadingOverlay.classList.remove('show');
                        }, 800);
                    }
                }, showLoading ? 200 : 0); // 如果不顯示加載動畫，則不需要延遲
            }

            // 篩選並顯示影片
            function filterAndShowVideos(category) {
                // 移除加載動畫，直接顯示內容
                currentCategory = category;
                
                // 篩選影片
                if (category === 'all') {
                    filteredCards = Array.from(videoCards);
                } else {
                    filteredCards = Array.from(videoCards).filter(card => 
                        card.getAttribute('data-category') === category
                    );
                }

                // 重置頁碼並更新UI
                currentPage = 1;
                updatePaginationUI();
                showCurrentPage(false); // 傳入 false 表示不顯示加載動畫
            }

            // 更新分頁UI
            function updatePaginationUI() {
                const totalPages = Math.ceil(filteredCards.length / itemsPerPage);
                const pageNumbers = document.querySelector('.page-numbers');
                const prevBtn = document.querySelector('.prev-btn');
                const nextBtn = document.querySelector('.next-btn');
                const pageInfo = document.querySelector('.page-info');

                // 更新按鈕狀態
                prevBtn.disabled = currentPage === 1;
                nextBtn.disabled = currentPage === totalPages;

                // 更新頁碼
                pageNumbers.innerHTML = '';
                for (let i = 1; i <= totalPages; i++) {
                    if (i === 1 || i === totalPages || 
                        (i >= currentPage - 1 && i <= currentPage + 1)) {
                        const button = document.createElement('button');
                        button.className = `page-number ${i === currentPage ? 'active' : ''}`;
                        button.textContent = i;
                        button.onclick = () => handlePageChange(i);
                        pageNumbers.appendChild(button);
                    } else if ((i === currentPage - 2 && currentPage > 3) || 
                              (i === currentPage + 2 && currentPage < totalPages - 2)) {
                        const dots = document.createElement('span');
                        dots.className = 'page-dots';
                        dots.textContent = '...';
                        pageNumbers.appendChild(dots);
                    }
                }

                // 更新頁面信息
                pageInfo.innerHTML = `
                    <span>共 ${filteredCards.length} 部影片</span>
                    <span class="separator">|</span>
                    <span>每頁 ${itemsPerPage} 部</span>
                    <span class="separator">|</span>
                    <span>第 ${currentPage}/${totalPages} 頁</span>
                `;
            }

            // 修改分頁按鈕點擊處理
            function handlePageChange(newPage) {
                if (currentPage !== newPage) {
                    currentPage = newPage;
                    showCurrentPage(true); // 分頁切換時顯示加載動畫
                    updatePaginationUI();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }

            // 綁定類別按鈕點擊事件
            categoryBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    if (btn.getAttribute('data-category') !== currentCategory) {
                        categoryBtns.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        filterAndShowVideos(btn.getAttribute('data-category'));
                    }
                });
            });

            // 修改上一頁/下一頁按鈕事件
            document.querySelector('.prev-btn').onclick = () => {
                if (currentPage > 1) {
                    handlePageChange(currentPage - 1);
                }
            };

            document.querySelector('.next-btn').onclick = () => {
                const totalPages = Math.ceil(filteredCards.length / itemsPerPage);
                if (currentPage < totalPages) {
                    handlePageChange(currentPage + 1);
                }
            };

            // 初始化顯示
            filterAndShowVideos('all'); // 初始化不顯示加載動畫
        });

        // 修改 playVideoSeries 函數
        function playVideoSeries(seriesId, title, type = 'default') {
            localStorage.setItem('currentVideo', JSON.stringify({
                id: seriesId,
                title: title,
                isSeries: true,
                currentEpisode: 1
            }));
            // 根據類型決定跳轉到哪個播放頁面
            if (type === 'anime') {
                window.location.href = 'anime-series-player.html';
            } else {
                window.location.href = 'series-player.html';
            }
        }

        function handleBack() {
            // 檢查用戶登入狀態
            const googleUser = localStorage.getItem('googleUser');
            const userType = localStorage.getItem('userType');
            const currentPath = window.location.pathname;

            // 如果當前在homepage.html，且有googleUser數據但不是訪客，則返回google-user.html
            if (currentPath.includes('homepage.html') && googleUser && userType !== 'visitor') {
                window.location.href = 'google-user.html';
                return;
            }

            // 其他情況按原有邏輯處理
            if (googleUser) {
                window.location.href = 'google-user.html';
            } else if (userType === 'visitor') {
                window.location.href = 'homepage.html';
            } else {
                window.location.href = '../login.html';
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.querySelector('.search-input');
            const searchBtn = document.querySelector('.search-btn');
            const categoryFilter = document.querySelector('.category-filter');
            const searchResultTitle = document.querySelector('.search-result-title');
            const videoGrid = document.querySelector('.video-grid');
            
            // 檢查 URL 參數
            const urlParams = new URLSearchParams(window.location.search);
            const searchQuery = urlParams.get('search');

            if (searchQuery) {
                // 如果有搜索參數，隱藏類別過濾器，顯示搜索結果
                categoryFilter.style.display = 'none';
                searchResultTitle.style.display = 'block';
                document.querySelector('.search-keyword').textContent = `"${searchQuery}"`;
                searchInput.value = searchQuery;
                performSearch(searchQuery, true);
            }

            // 搜索按鈕點擊事件
            searchBtn.addEventListener('click', function() {
                const query = searchInput.value.trim();
                if (searchBtn.classList.contains('searching')) {
                    // 清除搜索
                    searchInput.value = '';
                    window.location.href = window.location.pathname; // 移除 URL 參數
                } else {
                    // 執行搜索
                    if (query) {
                        window.location.href = `${window.location.pathname}?search=${encodeURIComponent(query)}`;
                    }
                }
            });

            // 搜索輸入事件 - 按下 Enter 鍵搜索
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    const query = e.target.value.trim();
                    if (query) {
                        window.location.href = `${window.location.pathname}?search=${encodeURIComponent(query)}`;
                    }
                }
            });

            // 修改搜索功能
            function performSearch(query, updateUI = false) {
                const results = {
                    titles: [],
                    authors: [],
                    years: []
                };

                // 獲取所有影片卡片
                const videoCards = document.querySelectorAll('.video-card');
                videoCards.forEach(card => {
                    const title = card.querySelector('.video-title').textContent;
                    const author = card.querySelector('.video-meta span:first-child').textContent;
                    const year = card.querySelector('.video-meta span:last-child').textContent;
                    const videoId = card.getAttribute('onclick').match(/'([^']+)'/)[1];
                    const thumbnail = card.querySelector('img')?.src || '';

                    // 標題匹配
                    if (title.toLowerCase().includes(query.toLowerCase())) {
                        results.titles.push({ id: videoId, title, author, year, thumbnail });
                    }
                    // 作者匹配
                    if (author.toLowerCase().includes(query.toLowerCase())) {
                        results.authors.push({ id: videoId, title, author, year, thumbnail });
                    }
                    // 年份匹配
                    if (year.includes(query)) {
                        results.years.push({ id: videoId, title, author, year, thumbnail });
                    }

                    // 隱藏所有卡片
                    card.style.display = 'none';
                });

                // 創建搜索結果區域
                const searchResultsContainer = document.createElement('div');
                searchResultsContainer.className = 'search-results-container';

                // 顯示分類結果
                const categories = [
                    { key: 'titles', icon: 'fa-film', title: '影片標題' },
                    { key: 'authors', icon: 'fa-user', title: '作者' },
                    { key: 'years', icon: 'fa-calendar', title: '年份' }
                ];

                let totalResults = 0;
                categories.forEach(({ key, icon, title }) => {
                    if (results[key].length > 0) {
                        totalResults += results[key].length;
                        const categorySection = document.createElement('div');
                        categorySection.className = 'search-category';
                        categorySection.innerHTML = `
                            <div class="category-header">
                                <i class="fas ${icon}"></i>
                                <h3>按${title}匹配 (${results[key].length})</h3>
                            </div>
                            <div class="category-results">
                                ${results[key].map((item, index) => `
                                    <div class="video-card disabled-card" onclick="return false; // playVideo('${item.id}', '${item.title}')" 
                                         style="animation-delay: ${index * 0.05}s">
                                        <div class="video-thumbnail">
                                            <img src="${item.thumbnail}" alt="${item.title}">
                                        </div>
                                        <div class="video-info">
                                            <h3 class="video-title">${item.title}</h3>
                                            <div class="video-meta">
                                                <span>${item.author}</span>
                                                <span>${item.year}</span>
                                            </div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        `;
                        searchResultsContainer.appendChild(categorySection);
                    }
                });

                // 更新 UI
                const videoGrid = document.querySelector('.video-grid');
                videoGrid.innerHTML = '';
                videoGrid.appendChild(searchResultsContainer);

                // 更新分頁信息
                if (updateUI) {
                    searchBtn.classList.add('searching');
                    document.querySelector('.page-info').innerHTML = `
                        <span>找到 ${totalResults} 個結果</span>
                        <span class="separator">|</span>
                        <span>搜索關鍵字: ${query}</span>
                    `;
                }

                // 如果沒有結果，顯示提示
                if (totalResults === 0) {
                    videoGrid.innerHTML = `
                        <div class="no-results">
                            <i class="fas fa-search"></i>
                            <p>未找到相關結果</p>
                        </div>
                    `;
                }
            }
        });
    </script>
</body>
</html> 